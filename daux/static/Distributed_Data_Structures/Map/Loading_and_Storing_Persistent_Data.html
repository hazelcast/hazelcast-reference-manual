<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Loading and Storing Persistent Data - Hazelcast Reference Manual</title>
    <meta name="description" content="Hazelcast Reference Manual" />
    <meta name="author" content="Hazelcast">
    <meta charset="UTF-8">
    <link rel="icon" href="../../themes/daux/img/favicon-blue.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../../themes/daux/css/theme-blue.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    
<header class="Navbar hidden-print">
    <div>
      <div class="sitebar"></div>
        <div>  
          <div style="float:left">
            <a href="http://www.hazelcast.org"><img src="IMDG_orange_logo_full_RGB-light_200px.png" style="padding-top: 8px"/></a>
          </div>
          <div>
            <a class="Navbar__branda" href="../../index.html">Reference Manual <span style="font-size:14px">for release 3.9</span></a>
          </div>
        </div>
    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>


</div></header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item  has-children'><a href="../../Preface/Hazelcast_IMDG_Editions.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Preface</a><ul class='Nav'><li class='Nav__item '><a href="../../Preface/Hazelcast_IMDG_Editions.html">Hazelcast IMDG Editions</a></li><li class='Nav__item '><a href="../../Preface/Hazelcast_IMDG_Architecture.html">Hazelcast IMDG Architecture</a></li><li class='Nav__item '><a href="../../Preface/Hazelcast_IMDG_Plugins.html">Hazelcast IMDG Plugins</a></li><li class='Nav__item '><a href="../../Preface/Licensing_and_Trademarks.html">Licensing and Trademarks</a></li><li class='Nav__item '><a href="../../Preface/Customer_Support.html">Customer Support</a></li><li class='Nav__item '><a href="../../Preface/Release_Notes.html">Release Notes</a></li><li class='Nav__item '><a href="../../Preface/Contributing_to_Hazelcast.html">Contributing to Hazelcast</a></li><li class='Nav__item '><a href="../../Preface/Partners.html">Partners</a></li><li class='Nav__item '><a href="../../Preface/Phone_Home.html">Phone Home</a></li><li class='Nav__item '><a href="../../Preface/Typographical_Conventions.html">Typographical Conventions</a></li></ul></li><li class='Nav__item '><a href="../../Document_Revision_History.html">Document Revision History</a></li><li class='Nav__item  has-children'><a href="../../Getting_Started/Installing_Hazelcast.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Getting Started</a><ul class='Nav'><li class='Nav__item '><a href="../../Getting_Started/Installing_Hazelcast.html">Installing Hazelcast</a></li><li class='Nav__item '><a href="../../Getting_Started/Installing_IMDG_Hazelcast_Enterprise.html">Installing IMDG Hazelcast Enterprise</a></li><li class='Nav__item '><a href="../../Getting_Started/Setting_The_License_Keys.html">Setting The License Keys</a></li><li class='Nav__item '><a href="../../Getting_Started/Upgrading_From_2x.html">Upgrading From 2x</a></li><li class='Nav__item '><a href="../../Getting_Started/Upgrading_From_3x.html">Upgrading From 3x</a></li><li class='Nav__item '><a href="../../Getting_Started/Starting_The_Member_And_Client.html">Starting The Member And Client</a></li><li class='Nav__item '><a href="../../Getting_Started/Using_The_Scripts_In_The_Package.html">Using The Scripts In The Package</a></li><li class='Nav__item '><a href="../../Getting_Started/Deploying_On_Amazon_EC2.html">Deploying On Amazon EC2</a></li><li class='Nav__item '><a href="../../Getting_Started/Deploying_On_Azure.html">Deploying On Azure</a></li><li class='Nav__item '><a href="../../Getting_Started/Deploying_On_CF.html">Deploying On CF</a></li><li class='Nav__item '><a href="../../Getting_Started/Deployment_Via_Docker.html">Deployment Via Docker</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_Overview/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hazelcast Overview</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_Overview/Sharding_In_Hazelcast.html">Sharding In Hazelcast</a></li><li class='Nav__item '><a href="../../Hazelcast_Overview/Hazelcast_Topology.html">Hazelcast Topology</a></li><li class='Nav__item '><a href="../../Hazelcast_Overview/Why_Hazelcast.html">Why Hazelcast</a></li><li class='Nav__item '><a href="../../Hazelcast_Overview/Data_Partitioning.html">Data Partitioning</a></li><li class='Nav__item '><a href="../../Hazelcast_Overview/Use_Cases.html">Use Cases</a></li><li class='Nav__item '><a href="../../Hazelcast_Overview/Resources.html">Resources</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Understanding_Configuration/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Understanding Configuration</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_Declaratively.html">Configuring Declaratively</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_Programmatically.html">Configuring Programmatically</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_with_System_Properties.html">Configuring with System Properties</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_within_Spring_Context.html">Configuring within Spring Context</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Checking_Configuration.html">Checking Configuration</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Using_Wildcards.html">Using Wildcards</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Using_Variables.html">Using Variables</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Setting_Up_Clusters/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Setting Up Clusters</a><ul class='Nav'><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Members_by_Multicast.html">Discovering Members by Multicast</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Members_by_TCP.html">Discovering Members by TCP</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Members_within_EC2_Cloud.html">Discovering Members within EC2 Cloud</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Members_within_Azure_Cloud.html">Discovering Members within Azure Cloud</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Members_with_jclouds.html">Discovering Members with jclouds</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Discovering_Native_Clients.html">Discovering Native Clients</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Creating_Cluster_Groups.html">Creating Cluster Groups</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/User_Code_Deployment.html">User Code Deployment</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Partition_Group_Configuration.html">Partition Group Configuration</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Logging_Configuration.html">Logging Configuration</a></li><li class='Nav__item '><a href="../../Setting_Up_Clusters/Other_Network_Configurations.html">Other Network Configurations</a></li></ul></li><li class='Nav__item '><a href="../../Rolling_Member_Upgrades.html">Rolling Member Upgrades</a></li><li class='Nav__item Nav__item--open has-children'><a href="../../Distributed_Data_Structures/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Distributed Data Structures</a><ul class='Nav'><li class='Nav__item Nav__item--open has-children'><a href="../../Distributed_Data_Structures/Map/Getting_Map_and_Putting_Entries.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Map</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Getting_Map_and_Putting_Entries.html">Getting Map and Putting Entries</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Backing_Up_Maps.html">Backing Up Maps</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Map_Eviction.html">Map Eviction</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Setting_In_Memory_Format.html">Setting In Memory Format</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Using_High-Density_Memory_Store_with_Map.html">Using High-Density Memory Store with Map</a></li><li class='Nav__item Nav__item--active'><a href="../../Distributed_Data_Structures/Map/Loading_and_Storing_Persistent_Data.html">Loading and Storing Persistent Data</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Creating_Near_Cache_for_Map.html">Creating Near Cache for Map</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Locking_Maps.html">Locking Maps</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Accessing_Entry_Statistics.html">Accessing Entry Statistics</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Map_Listener.html">Map Listener</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Listening_to_Map_entries_with_Predicates.html">Listening to Map entries with Predicates</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Removing_Bulk_Map_Entries_with_Predicates.html">Removing Bulk Map Entries with Predicates</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Adding_Interceptors.html">Adding Interceptors</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Map/Preventing_Out_of_Memory_Exceptions.html">Preventing Out of Memory Exceptions</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Data_Structures/Queue/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Queue</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Data_Structures/Queue/Creating_an_Example_Queue.html">Creating an Example Queue</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Queue/Setting_a_Bounded_Queue.html">Setting a Bounded Queue</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Queue/Queue_with_Persistence_Datastore.html">Queue with Persistence Datastore</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Queue/Split-Brain_Protection_for_Queue.html">Split-Brain Protection for Queue</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Queue/Configuring_Queue.html">Configuring Queue</a></li></ul></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/MultiMap.html">MultiMap</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Set.html">Set</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/List.html">List</a></li><li class='Nav__item  has-children'><a href="../../Distributed_Data_Structures/Ringbuffer/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Ringbuffer</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Data_Structures/Ringbuffer/Configuring_Ringbuffer.html">Configuring Ringbuffer</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Ringbuffer/Ringbuffer_with_Persistent_Datastore.html">Ringbuffer with Persistent Datastore</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Ringbuffer/Batched_Items.html">Batched Items</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Ringbuffer/Using_Async_Methods.html">Using Async Methods</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Data_Structures/Topic/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Topic</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Data_Structures/Topic/Getting_Topic_Statistics.html">Getting Topic Statistics</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Topic/Understanding_Topic_Behavior.html">Understanding Topic Behavior</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Topic/Configuring_Topic.html">Configuring Topic</a></li></ul></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Reliable_Topic.html">Reliable Topic</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Lock.html">Lock</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/IAtomicLong.html">IAtomicLong</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/ISemaphore.html">ISemaphore</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/IAtomicReference.html">IAtomicReference</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/ICountDownLatch.html">ICountDownLatch</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/IdGenerator.html">IdGenerator</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Replicated_Map.html">Replicated Map</a></li><li class='Nav__item '><a href="../../Distributed_Data_Structures/Cardinality_Estimator_Service.html">Cardinality Estimator Service</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Events/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Distributed Events</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Distributed_Events/Event_Listener_for_Members/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Event Listener for Members</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Member_Events.html">Listening for Member Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Distributed_Object_Events.html">Listening for Distributed Object Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Migration_Events.html">Listening for Migration Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Partition_Lost_Events.html">Listening for Partition Lost Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Lifecycle_Events.html">Listening for Lifecycle Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Map_Events.html">Listening for Map Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_MultiMap_Events.html">Listening for MultiMap Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Item_Events.html">Listening for Item Events</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Topic_Messages.html">Listening for Topic Messages</a></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listener_for_Members/Listening_for_Clients.html">Listening for Clients</a></li></ul></li><li class='Nav__item '><a href="../../Distributed_Events/Event_Listeners_for_Clients.html">Event Listeners for Clients</a></li><li class='Nav__item '><a href="../../Distributed_Events/Global_Event_Configuration.html">Global Event Configuration</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Computing/Executor_Service/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Distributed Computing</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Distributed_Computing/Executor_Service/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Executor Service</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Implementing_a_Callable_Task.html">Implementing a Callable Task</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Implementing_a_Runnable_Task.html">Implementing a Runnable Task</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Scaling_the_Executor_Service.html">Scaling the Executor Service</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Executing-Code_in_the_Cluster.html">Executing-Code in the Cluster</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Canceling_an_Executing_Task.html">Canceling an Executing Task</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Callback_When_Task_Completes.html">Callback When Task Completes</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Selecting_Members_for_Task_Execution.html">Selecting Members for Task Execution</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Executor_Service/Configuring_Executor_Service.html">Configuring Executor Service</a></li></ul></li><li class='Nav__item '><a href="../../Distributed_Computing/Durable_Executor_Service.html">Durable Executor Service</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Scheduled_Executor_Service.html">Scheduled Executor Service</a></li><li class='Nav__item  has-children'><a href="../../Distributed_Computing/Entry_Processor/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Entry Processor</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Performing_Fast_In-Memory_Map_Operations.html">Performing Fast In-Memory Map Operations</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Entry_Processor_Interface.html">Entry Processor Interface</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Processing_Backup_Entries.html">Processing Backup Entries</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Creating_a_Sample_Entry_Processor.html">Creating a Sample Entry Processor</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Abstract_Entry_Processor.html">Abstract Entry Processor</a></li><li class='Nav__item '><a href="../../Distributed_Computing/Entry_Processor/Entry_Processor_Optimizations.html">Entry Processor Optimizations</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Distributed Query</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Distributed_Query/How_Distributed_Query_Works/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>How Distributed Query Works</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Employee_Map_Query_Example.html">Employee Map Query Example</a></li><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Querying_with_Criteria_API.html">Querying with Criteria API</a></li><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Querying_with_SQL.html">Querying with SQL</a></li><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Filtering_with_Paging_Predicates.html">Filtering with Paging Predicates</a></li><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Indexing_Queries.html">Indexing Queries</a></li><li class='Nav__item '><a href="../../Distributed_Query/How_Distributed_Query_Works/Configuring_Query_Thread_Pool.html">Configuring Query Thread Pool</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/Querying_in_Collections_and_Arrays/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Querying in Collections and Arrays</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/Querying_in_Collections_and_Arrays/Indexing_in_Collections_and_Arrays.html">Indexing in Collections and Arrays</a></li><li class='Nav__item '><a href="../../Distributed_Query/Querying_in_Collections_and_Arrays/Corner_Cases.html">Corner Cases</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/Custom_Attributes/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Custom Attributes</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/Custom_Attributes/Implementing_a_ValueExtractor.html">Implementing a ValueExtractor</a></li><li class='Nav__item '><a href="../../Distributed_Query/Custom_Attributes/Extraction_Arguments.html">Extraction Arguments</a></li><li class='Nav__item '><a href="../../Distributed_Query/Custom_Attributes/Configuring_a_Custom_Attribute_Programmatically.html">Configuring a Custom Attribute Programmatically</a></li><li class='Nav__item '><a href="../../Distributed_Query/Custom_Attributes/Configuring_a_Custom_Attribute_Declaratively.html">Configuring a Custom Attribute Declaratively</a></li><li class='Nav__item '><a href="../../Distributed_Query/Custom_Attributes/Indexing_Custom_Attributes.html">Indexing Custom Attributes</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/MapReduce/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>MapReduce</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/MapReduce/Understanding_MapReduce.html">Understanding MapReduce</a></li><li class='Nav__item '><a href="../../Distributed_Query/MapReduce/Using_the_MapReduce_API.html">Using the MapReduce API</a></li><li class='Nav__item '><a href="../../Distributed_Query/MapReduce/Hazelcast_MapReduce_Architecture.html">Hazelcast MapReduce Architecture</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/Aggregators/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Aggregators</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/Aggregators/Aggregations_Basics.html">Aggregations Basics</a></li><li class='Nav__item '><a href="../../Distributed_Query/Aggregators/Using_the_Aggregations_API.html">Using the Aggregations API</a></li><li class='Nav__item '><a href="../../Distributed_Query/Aggregators/Aggregations_Examples.html">Aggregations Examples</a></li><li class='Nav__item '><a href="../../Distributed_Query/Aggregators/Implementing_Aggregations.html">Implementing Aggregations</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/Fast_Aggregations/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Fast Aggregations</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/Fast_Aggregations/Aggregator_API.html">Aggregator API</a></li><li class='Nav__item '><a href="../../Distributed_Query/Fast_Aggregations/Sample_Implementation.html">Sample Implementation</a></li><li class='Nav__item '><a href="../../Distributed_Query/Fast_Aggregations/Built-In_Aggregations.html">Built-In Aggregations</a></li><li class='Nav__item '><a href="../../Distributed_Query/Fast_Aggregations/Configuration_Options.html">Configuration Options</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Distributed_Query/Projections/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Projections</a><ul class='Nav'><li class='Nav__item '><a href="../../Distributed_Query/Projections/Projections_API.html">Projections API</a></li><li class='Nav__item '><a href="../../Distributed_Query/Projections/Sample_Implementation.html">Sample Implementation</a></li><li class='Nav__item '><a href="../../Distributed_Query/Projections/Built-In_Projections.html">Built-In Projections</a></li></ul></li><li class='Nav__item '><a href="../../Distributed_Query/Continuous_Query_Cache.html">Continuous Query Cache</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Transactions/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Transactions</a><ul class='Nav'><li class='Nav__item '><a href="../../Transactions/Creating_a_Transaction_Interface.html">Creating a Transaction Interface</a></li><li class='Nav__item '><a href="../../Transactions/Providing_XA_Transactions.html">Providing XA Transactions</a></li><li class='Nav__item '><a href="../../Transactions/Integrating_into_J2EE.html">Integrating into J2EE</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_JCache/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hazelcast JCache</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_JCache/Overview.html">Overview</a></li><li class='Nav__item  has-children'><a href="../../Hazelcast_JCache/Setup_and_Configuration/Setting_your_Application.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Setup and Configuration</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_JCache/Setup_and_Configuration/Setting_your_Application.html">Setting your Application</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Setup_and_Configuration/Example_JCache_Application.html">Example JCache Application</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Setup_and_Configuration/Configuring_for_JCache.html">Configuring for JCache</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_JCache/JCache_Providers/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>JCache Providers</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_Providers/Configuring_JCache_Providers.html">Configuring JCache Providers</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_Providers/Configuring_JCache_with_Client_Provider.html">Configuring JCache with Client Provider</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_Providers/Configuring_JCache_with_Server_Provider.html">Configuring JCache with Server Provider</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_JCache/JCache_API/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>JCache API</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/JCache_API_Application_Example.html">JCache API Application Example</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/JCache_Base_Classes.html">JCache Base Classes</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_Factory_and_FactoryBuilder.html">Implementing Factory and FactoryBuilder</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_CacheLoader.html">Implementing CacheLoader</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_CacheWriter.html">Implementing CacheWriter</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_Entry_Processor.html">Implementing Entry Processor</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_CacheEntryListener.html">Implementing CacheEntryListener</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/JCache_API/Implementing_ExpirePolicy.html">Implementing ExpirePolicy</a></li></ul></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Integrating_JCache_with_Hazelcast_Instance.html">Integrating JCache with Hazelcast Instance</a></li><li class='Nav__item  has-children'><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hazelcast JCache Extension-ICache</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Scoping_to_Join_Clusters.html">Scoping to Join Clusters</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Namespacing.html">Namespacing</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Retrieving_an_ICache_Instance.html">Retrieving an ICache Instance</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Configuring_ICache.html">Configuring ICache</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/ICache_Async_Methods.html">ICache Async Methods</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Defining_a_Custom_Expiry_Policy.html">Defining a Custom Expiry Policy</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/JCache_Eviction.html">JCache Eviction</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/JCache_Near_Cache.html">JCache Near Cache</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/ICache_Convenience_Methods.html">ICache Convenience Methods</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/Implementing_BackupAwareEntryProcessor.html">Implementing BackupAwareEntryProcessor</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/ICache_Partition_Lost_Listener.html">ICache Partition Lost Listener</a></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Hazelcast_JCache_Extension-ICache/JCache_Split-Brain.html">JCache Split-Brain</a></li></ul></li><li class='Nav__item '><a href="../../Hazelcast_JCache/Testing_for_JCache_Specification_Compliance.html">Testing for JCache Specification Compliance</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Integrated_Clustering/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Integrated Clustering</a><ul class='Nav'><li class='Nav__item '><a href="../../Integrated_Clustering/Hibernate_Second_Level_Cache.html">Hibernate Second Level Cache</a></li><li class='Nav__item  has-children'><a href="../../Integrated_Clustering/Replicating_Web_Sessions/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Replicating Web Sessions</a><ul class='Nav'><li class='Nav__item '><a href="../../Integrated_Clustering/Replicating_Web_Sessions/Filter_Based_Web_Session_Replication.html">Filter Based Web Session Replication</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Replicating_Web_Sessions/Tomcat_Based_Web_Session_Replication.html">Tomcat Based Web Session Replication</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Replicating_Web_Sessions/Jetty_Based_Web_Session_Replication.html">Jetty Based Web Session Replication</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Integrated_Clustering/Integrating_with_Spring/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Integrating with Spring</a><ul class='Nav'><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Configuring_Spring.html">Configuring Spring</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Enabling_SpringAware_Objects.html">Enabling SpringAware Objects</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Adding_Caching_to_Spring.html">Adding Caching to Spring</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Configuring_Hibernate_Second_Level_Cache.html">Configuring Hibernate Second Level Cache</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Configuring_Hazelcast_Transaction_Manager.html">Configuring Hazelcast Transaction Manager</a></li><li class='Nav__item '><a href="../../Integrated_Clustering/Integrating_with_Spring/Best_Practices.html">Best Practices</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="../../Storage/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Storage</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Storage/High-Density_Memory_Store/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>High-Density Memory Store</a><ul class='Nav'><li class='Nav__item '><a href="../../Storage/High-Density_Memory_Store/Configuring_High-Density_Memory_Store.html">Configuring High-Density Memory Store</a></li></ul></li><li class='Nav__item '><a href="../../Storage/Sizing_Practices.html">Sizing Practices</a></li><li class='Nav__item  has-children'><a href="../../Storage/Hot_Restart_Persistence/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hot Restart Persistence</a><ul class='Nav'><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Hot_Restart_Types.html">Hot Restart Types</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Restart_Process.html">Restart Process</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Force_Start.html">Force Start</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Partial_Start.html">Partial Start</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Configuring_Hot_Restart.html">Configuring Hot Restart</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Moving-Copying_Hot_Restart_Data.html">Moving-Copying Hot Restart Data</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Design_Details.html">Design Details</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Concurrent-Incremental-Generational_GC.html">Concurrent-Incremental-Generational GC</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Performance_Considerations.html">Performance Considerations</a></li><li class='Nav__item '><a href="../../Storage/Hot_Restart_Persistence/Hot_Backup.html">Hot Backup</a></li></ul></li><li class='Nav__item '><a href="../../Storage/Hazelcast_Striim_Hot_Cache.html">Hazelcast Striim Hot Cache</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_Java_Client/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hazelcast Java Client</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Hazelcast_Clients_Feature_Comparison.html">Hazelcast Clients Feature Comparison</a></li><li class='Nav__item  has-children'><a href="../../Hazelcast_Java_Client/Java_Client_Overview/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Java Client Overview</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Including_Dependencies_for_Java_Clients.html">Including Dependencies for Java Clients</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Getting_Started_with_Client_API.html">Getting Started with Client API</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Java_Client_Operation_Modes.html">Java Client Operation Modes</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Handling_Failures.html">Handling Failures</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Using_Supported_Distributed_Data_Structures.html">Using Supported Distributed Data Structures</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Using_Client_Services.html">Using Client Services</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Client_Listeners.html">Client Listeners</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Java_Client_Overview/Client_Transactions.html">Client Transactions</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Configuring Java Client</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Client_Network.html">Configuring Client Network</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Client_Load_Balancer.html">Configuring Client Load Balancer</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Client_Near_Cache.html">Configuring Client Near Cache</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Client_Group_Configuration.html">Client Group Configuration</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Client_Security_Configuration.html">Client Security Configuration</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Client_Serialization_Configuration.html">Client Serialization Configuration</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Client_Listeners.html">Configuring Client Listeners</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Executor_Pool_Size.html">Configuring Executor Pool Size</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Configuring_Java_Client/Configuring_Class_Loaders.html">Configuring Class Loaders</a></li></ul></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Using_High-Density_Memory_Store_with_Java_Client.html">Using High-Density Memory Store with Java Client</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Sample_Codes_for_Client.html">Sample Codes for Client</a></li><li class='Nav__item '><a href="../../Hazelcast_Java_Client/Client_System_Properties.html">Client System Properties</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Other_Client_and_Language_Implementations/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Other Client and Language Implementations</a><ul class='Nav'><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/C++_Client.html">C++ Client</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/.NET_Client.html">.NET Client</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/Python_Client.html">Python Client</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/Node.js_Client.html">Node.js Client</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/Scala.html">Scala</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/REST_Client.html">REST Client</a></li><li class='Nav__item '><a href="../../Other_Client_and_Language_Implementations/Memcache_Client.html">Memcache Client</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Serialization/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Serialization</a><ul class='Nav'><li class='Nav__item '><a href="../../Serialization/Serialization_Interface_Types.html">Serialization Interface Types</a></li><li class='Nav__item '><a href="../../Serialization/Comparing_Serialization_Interfaces.html">Comparing Serialization Interfaces</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Java_Serializable_and_Externalizable.html">Implementing Java Serializable and Externalizable</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_DataSerializable.html">Implementing DataSerializable</a></li><li class='Nav__item  has-children'><a href="../../Serialization/Implementing_Portable_Serialization/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Implementing Portable Serialization</a><ul class='Nav'><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/Example_Code.html">Example Code</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/Registering_the_Portable_Factory.html">Registering the Portable Factory</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/Versioning_for_Portable_Serialization.html">Versioning for Portable Serialization</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/Ordering_Consistency_for_writePortable.html">Ordering Consistency for writePortable</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/Null_Portable_Serialization.html">Null Portable Serialization</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_Portable_Serialization/DistributedObject_Serialization.html">DistributedObject Serialization</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Serialization/Custom_Serialization/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Custom Serialization</a><ul class='Nav'><li class='Nav__item '><a href="../../Serialization/Custom_Serialization/Implementing_StreamSerializer.html">Implementing StreamSerializer</a></li><li class='Nav__item '><a href="../../Serialization/Custom_Serialization/Implementing_ByteArraySerializer.html">Implementing ByteArraySerializer</a></li></ul></li><li class='Nav__item '><a href="../../Serialization/Global_Serializer.html">Global Serializer</a></li><li class='Nav__item '><a href="../../Serialization/Implementing_HazelcastInstanceAware.html">Implementing HazelcastInstanceAware</a></li><li class='Nav__item '><a href="../../Serialization/Serialization_Configuration_Wrap-Up.html">Serialization Configuration Wrap-Up</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Management/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Management</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Management/Getting_Member_Statistics/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Getting Member Statistics</a><ul class='Nav'><li class='Nav__item '><a href="../../Management/Getting_Member_Statistics/Map_Statistics.html">Map Statistics</a></li><li class='Nav__item '><a href="../../Management/Getting_Member_Statistics/MultiMap_Statistics.html">MultiMap Statistics</a></li><li class='Nav__item '><a href="../../Management/Getting_Member_Statistics/Queue_Statistics.html">Queue Statistics</a></li><li class='Nav__item '><a href="../../Management/Getting_Member_Statistics/Topic_Statistics.html">Topic Statistics</a></li><li class='Nav__item '><a href="../../Management/Getting_Member_Statistics/Executor_Statistics.html">Executor Statistics</a></li></ul></li><li class='Nav__item '><a href="../../Management/JMX_API_Per_Member.html">JMX API Per Member</a></li><li class='Nav__item '><a href="../../Management/Monitoring_with_JMX.html">Monitoring with JMX</a></li><li class='Nav__item  has-children'><a href="../../Management/Cluster_Utilities/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Cluster Utilities</a><ul class='Nav'><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Getting_Member_Events_and_Member_Sets.html">Getting Member Events and Member Sets</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Managing_Cluster_and_Member_States.html">Managing Cluster and Member States</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Using_the_Script_cluster.sh.html">Using the Script cluster.sh</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Using_REST_API_for_Cluster_Management.html">Using REST API for Cluster Management</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Enabling_Lite_Members.html">Enabling Lite Members</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Defining_Member_Attributes.html">Defining Member Attributes</a></li><li class='Nav__item '><a href="../../Management/Cluster_Utilities/Safety_Checking_of_Cluster_Members.html">Safety Checking of Cluster Members</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Management/Diagnostics/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Diagnostics</a><ul class='Nav'><li class='Nav__item '><a href="../../Management/Diagnostics/Enabling_Diagnostics_Logging.html">Enabling Diagnostics Logging</a></li><li class='Nav__item '><a href="../../Management/Diagnostics/Diagnostics_Log_File.html">Diagnostics Log File</a></li><li class='Nav__item '><a href="../../Management/Diagnostics/Diagnostics_Plugins.html">Diagnostics Plugins</a></li></ul></li><li class='Nav__item '><a href="../../Management/Hazelcast_CLI.html">Hazelcast CLI</a></li><li class='Nav__item  has-children'><a href="../../Management/Management_Center/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Management Center</a><ul class='Nav'><li class='Nav__item '><a href="../../Management/Management_Center/Deploying_and_Starting.html">Deploying and Starting</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Getting_Started.html">Getting Started</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Using_Management_Center_with_TLS-SSL_Only.html">Using Management Center with TLS-SSL Only</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Active_Directory_Authentication.html">Active Directory Authentication</a></li><li class='Nav__item '><a href="../../Management/Management_Center/JAAS_Authentication.html">JAAS Authentication</a></li><li class='Nav__item '><a href="../../Management/Management_Center/LDAP_Authentication.html">LDAP Authentication</a></li><li class='Nav__item '><a href="../../Management/Management_Center/User_Interface_Overview.html">User Interface Overview</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Home_Page.html">Home Page</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Caches.html">Monitoring Caches</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Managing_Maps.html">Managing Maps</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Replicated_Maps.html">Monitoring Replicated Maps</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Queues.html">Monitoring Queues</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Topics.html">Monitoring Topics</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_MultiMaps.html">Monitoring MultiMaps</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Executors.html">Monitoring Executors</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_WAN_Replication.html">Monitoring WAN Replication</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Monitoring_Members.html">Monitoring Members</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Scripting.html">Scripting</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Executing_Console_Commands.html">Executing Console Commands</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Creating_Alerts.html">Creating Alerts</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Administering_Management_Center.html">Administering Management Center</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Hot_Restart.html">Hot Restart</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Checking_Past_Status_with_Time_Travel.html">Checking Past Status with Time Travel</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Management_Center_Documentation.html">Management Center Documentation</a></li><li class='Nav__item '><a href="../../Management/Management_Center/Suggested_Heap_Size.html">Suggested Heap Size</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Management/Clustered_JMX_via_Management_Center/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Clustered JMX via Management Center</a><ul class='Nav'><li class='Nav__item '><a href="../../Management/Clustered_JMX_via_Management_Center/Configuring_Clustered_JMX.html">Configuring Clustered JMX</a></li><li class='Nav__item '><a href="../../Management/Clustered_JMX_via_Management_Center/Clustered_JMX_API.html">Clustered JMX API</a></li><li class='Nav__item '><a href="../../Management/Clustered_JMX_via_Management_Center/Integrating_with_New_Relic.html">Integrating with New Relic</a></li><li class='Nav__item '><a href="../../Management/Clustered_JMX_via_Management_Center/Integrating_with_AppDynamics.html">Integrating with AppDynamics</a></li></ul></li><li class='Nav__item '><a href="../../Management/Clustered_REST_via_Management_Center.html">Clustered REST via Management Center</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Security/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Security</a><ul class='Nav'><li class='Nav__item '><a href="../../Security/Enabling_Security.html">Enabling Security</a></li><li class='Nav__item '><a href="../../Security/Socket_Interceptor.html">Socket Interceptor</a></li><li class='Nav__item '><a href="../../Security/Security_Interceptor.html">Security Interceptor</a></li><li class='Nav__item '><a href="../../Security/Encryption.html">Encryption</a></li><li class='Nav__item '><a href="../../Security/TLS-SSL.html">TLS-SSL</a></li><li class='Nav__item '><a href="../../Security/Credentials.html">Credentials</a></li><li class='Nav__item '><a href="../../Security/ClusterLoginModule.html">ClusterLoginModule</a></li><li class='Nav__item '><a href="../../Security/Cluster_Member_Security.html">Cluster Member Security</a></li><li class='Nav__item '><a href="../../Security/Native_Client_Security.html">Native Client Security</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Performance/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Performance</a><ul class='Nav'><li class='Nav__item '><a href="../../Performance/Data_Affinity.html">Data Affinity</a></li><li class='Nav__item '><a href="../../Performance/Back_Pressure.html">Back Pressure</a></li><li class='Nav__item  has-children'><a href="../../Performance/Threading_Model/I:O_Threading.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Threading Model</a><ul class='Nav'><li class='Nav__item '><a href="../../Performance/Threading_Model/I:O_Threading.html">I:O Threading</a></li><li class='Nav__item '><a href="../../Performance/Threading_Model/Event_Threading.html">Event Threading</a></li><li class='Nav__item '><a href="../../Performance/Threading_Model/IExecutor_Threading.html">IExecutor Threading</a></li><li class='Nav__item '><a href="../../Performance/Threading_Model/Operation_Threading.html">Operation Threading</a></li></ul></li><li class='Nav__item '><a href="../../Performance/Slow_Operation_Detector.html">Slow Operation Detector</a></li><li class='Nav__item  has-children'><a href="../../Performance/Near_Cache/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Near Cache</a><ul class='Nav'><li class='Nav__item '><a href="../../Performance/Near_Cache/Hazelcast_Data_Structures_with_Near_Cache_Support.html">Hazelcast Data Structures with Near Cache Support</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Configuring_Near_Cache.html">Configuring Near Cache</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Configuration_Examples.html">Near Cache Configuration Examples</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Eviction.html">Near Cache Eviction</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Expiration.html">Near Cache Expiration</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Invalidation.html">Near Cache Invalidation</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Eventual_Consistency.html">Near Cache Eventual Consistency</a></li><li class='Nav__item '><a href="../../Performance/Near_Cache/Near_Cache_Preloader.html">Near Cache Preloader</a></li></ul></li></ul></li><li class='Nav__item '><a href="../../Hazelcast_Simulator.html">Hazelcast Simulator</a></li><li class='Nav__item  has-children'><a href="../../WAN_Replication/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>WAN Replication</a><ul class='Nav'><li class='Nav__item '><a href="../../WAN_Replication/Defining_WAN_Replication.html">Defining WAN Replication</a></li><li class='Nav__item '><a href="../../WAN_Replication/WANBatchReplication_Implementation.html">WANBatchReplication Implementation</a></li><li class='Nav__item '><a href="../../WAN_Replication/Configuring_WAN_Replication_for_IMap_and_Cache.html">Configuring WAN Replication for IMap and Cache</a></li><li class='Nav__item '><a href="../../WAN_Replication/Batch_Size.html">Batch Size</a></li><li class='Nav__item '><a href="../../WAN_Replication/Batch_Maximum_Delay.html">Batch Maximum Delay</a></li><li class='Nav__item '><a href="../../WAN_Replication/Response_Timeout.html">Response Timeout</a></li><li class='Nav__item '><a href="../../WAN_Replication/Queue_Capacity.html">Queue Capacity</a></li><li class='Nav__item '><a href="../../WAN_Replication/Queue_Full_Behavior.html">Queue Full Behavior</a></li><li class='Nav__item '><a href="../../WAN_Replication/Event_Filtering_API.html">Event Filtering API</a></li><li class='Nav__item '><a href="../../WAN_Replication/Acknoledgment_Types.html">Acknoledgment Types</a></li><li class='Nav__item '><a href="../../WAN_Replication/Synchronizing_WAN_Target_Cluster.html">Synchronizing WAN Target Cluster</a></li><li class='Nav__item '><a href="../../WAN_Replication/Additional_Information.html">Additional Information</a></li><li class='Nav__item '><a href="../../WAN_Replication/Hazelcast_WAN_Replication_with_Solace.html">Hazelcast WAN Replication with Solace</a></li></ul></li><li class='Nav__item '><a href="../../OSGI.html">OSGI</a></li><li class='Nav__item  has-children'><a href="../../Extending_Hazelcast/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Extending Hazelcast</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Extending_Hazelcast/User_Defined_Services/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>User Defined Services</a><ul class='Nav'><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Creating_the_Service_Class.html">Creating the Service Class</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Enabling_the_Service_Calls.html">Enabling the Service Calls</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Adding_Properties_to_the_Service.html">Adding Properties to the Service</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Starting_the_Service.html">Starting the Service</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Placing_a_Remote_Call_via_Proxy.html">Placing a Remote Call via Proxy</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Creating_Containers.html">Creating Containers</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Partition_Migration.html">Partition Migration</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/User_Defined_Services/Creating_Backups.html">Creating Backups</a></li></ul></li><li class='Nav__item '><a href="../../Extending_Hazelcast/WaitNotifyService.html">WaitNotifyService</a></li><li class='Nav__item  has-children'><a href="../../Extending_Hazelcast/Discovery_SPI/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Discovery SPI</a><ul class='Nav'><li class='Nav__item '><a href="../../Extending_Hazelcast/Discovery_SPI/Discovery_SPI_Interfaces_and_Classes.html">Discovery SPI Interfaces and Classes</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/Discovery_SPI/Discovery_Strategy.html">Discovery Strategy</a></li><li class='Nav__item '><a href="../../Extending_Hazelcast/Discovery_SPI/DiscoveryService-Framework_Integration.html">DiscoveryService-Framework Integration</a></li></ul></li><li class='Nav__item '><a href="../../Extending_Hazelcast/Config_Properties_.html">Config Properties </a></li></ul></li><li class='Nav__item  has-children'><a href="../../Network_Partitioning/Split_Brain_Syndrome.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Network Partitioning</a><ul class='Nav'><li class='Nav__item '><a href="../../Network_Partitioning/Split_Brain_Syndrome.html">Split Brain Syndrome</a></li><li class='Nav__item '><a href="../../Network_Partitioning/Split_Brain_Protection.html">Split Brain Protection</a></li></ul></li><li class='Nav__item '><a href="../../System_Properties.html">System Properties</a></li><li class='Nav__item '><a href="../../Common_Exception_Types.html">Common Exception Types</a></li><li class='Nav__item '><a href="../../License_Questions.html">License Questions</a></li><li class='Nav__item '><a href="../../FAQ.html">FAQ</a></li><li class='Nav__item '><a href="../../Glossary.html">Glossary</a></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/hazelcast/hazelcast" target="_blank">GitHub Repo</a>
                        <br />
                                            <a href="https://github.com/hazelcast/hazelcast-reference-manual/issues/new" target="_blank">Send Us a Fix</a>
                        <br />
                                            <a href="http://hazelcast.org/documentation" target="_blank">Go to hazelcast.org/documentation</a>
                        <br />
                                    
                                    <div class="CodeToggler">
                        <hr/>
                                                    <a class="CodeToggler__button CodeToggler__button--main" href="#">Show Code Blocks Inline</a><br>
                                            </div>
                
                            </div>
        </div>
    </aside>
    <div class="Columns__right ">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../../Distributed_Data_Structures/index.html">Distributed Data Structures</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../../Distributed_Data_Structures/Map/Getting_Map_and_Putting_Entries.html">Map</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../../Distributed_Data_Structures/Map/Loading_and_Storing_Persistent_Data.html">Loading and Storing Persistent Data</a></h1>
                    </div>


    <div class="s-content">
        <p>Hazelcast allows you to load and store the distributed map entries from/to a persistent data store such as a relational database. To do this, you can use Hazelcast's <code>MapStore</code> and <code>MapLoader</code> interfaces.</p>
<p>When you provide a <code>MapLoader</code> implementation and request an entry (<code>IMap.get()</code>) that does not exist in memory, <code>MapLoader</code>'s <code>load</code> or <code>loadAll</code> methods will load that entry from the data store. This loaded entry is placed into the map and will stay there until it is removed or evicted.</p>
<p>When a <code>MapStore</code> implementation is provided, an entry is also put into a user defined data store.</p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>Data store needs to be a centralized system that is
accessible from all Hazelcast members. Persistence to a local file system is not supported.</em></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>Also note that the <code>MapStore</code> interface extends the <code>MapLoader</code> interface as you can see in the interface <a href="https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/core/MapStore.java" class="external">code</a>.</em></p>
<p>Following is a <code>MapStore</code> example.</p>
<pre><code class="language-java">public class PersonMapStore implements MapStore&lt;Long, Person&gt; {
    private final Connection con;

    public PersonMapStore() {
        try {
            con = DriverManager.getConnection(&quot;jdbc:hsqldb:mydatabase&quot;, &quot;SA&quot;, &quot;&quot;);
            con.createStatement().executeUpdate(
                    &quot;create table if not exists person (id bigint, name varchar(45))&quot;);
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized void delete(Long key) {
        System.out.println(&quot;Delete:&quot; + key);
        try {
            con.createStatement().executeUpdate(
                    format(&quot;delete from person where id = %s&quot;, key));
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized void store(Long key, Person value) {
        try {
            con.createStatement().executeUpdate(
                    format(&quot;insert into person values(%s,'%s')&quot;, key, value.name));
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized void storeAll(Map&lt;Long, Person&gt; map) {
        for (Map.Entry&lt;Long, Person&gt; entry : map.entrySet())
            store(entry.getKey(), entry.getValue());
    }

    public synchronized void deleteAll(Collection&lt;Long&gt; keys) {
        for (Long key : keys) delete(key);
    }

    public synchronized Person load(Long key) {
        try {
            ResultSet resultSet = con.createStatement().executeQuery(
                    format(&quot;select name from person where id =%s&quot;, key));
            try {
                if (!resultSet.next()) return null;
                String name = resultSet.getString(1);
                return new Person(name);
            } finally {
                resultSet.close();
            }
        } catch (SQLException e) {
            throw new RuntimeException(e);
        }
    }

    public synchronized Map&lt;Long, Person&gt; loadAll(Collection&lt;Long&gt; keys) {
        Map&lt;Long, Person&gt; result = new HashMap&lt;Long, Person&gt;();
        for (Long key : keys) result.put(key, load(key));
        return result;
    }

    public Iterable&lt;Long&gt; loadAllKeys() {
        return null;
    }
}
</code></pre>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>During the initial loading process, MapStore uses a thread different from the partition threads that are used by the ExecutorService. After the initialization is completed, the <code>map.get</code> method looks up any nonexistent value from the database in a partition thread, or the <code>map.put</code> method looks up the database to return the previously associated value for a key also in a partition thread.</em></p>
<p><br></br>
<strong><em>RELATED INFORMATION</em></strong></p>
<p><em>For more MapStore/MapLoader code samples, please see <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/distributed-map/mapstore/src/main/java" target="_blank">here</a>.</em>
<br></br></p>
<p>Hazelcast supports read-through, write-through, and write-behind persistence modes, which are explained in the subsections below.</p>
<h4 id="page_Using+Read-Through+Persistence">Using Read-Through Persistence</h4>
<p>If an entry does not exist in memory when an application asks for it, Hazelcast asks the loader implementation to load that entry from the data store.  If the entry exists there, the loader implementation gets it, hands it to Hazelcast, and Hazelcast puts it into memory. This is read-through persistence mode.</p>
<h4 id="page_Setting+Write-Through+Persistence">Setting Write-Through Persistence</h4>
<p><code>MapStore</code> can be configured to be write-through by setting the <code>write-delay-seconds</code> property to <strong>0</strong>. This means the entries will be put to the data store synchronously.</p>
<p>In this mode, when the <code>map.put(key,value)</code> call returns:</p>
<ul>
<li>
<code>MapStore.store(key,value)</code> is successfully called so the entry is persisted.</li>
<li>In-Memory entry is updated.</li>
<li>In-Memory backup copies are successfully created on other cluster members (if <code>backup-count</code> is greater than 0).</li>
</ul>
<p>The same behavior goes for a <code>map.remove(key)</code> call. The only difference is that  <code>MapStore.delete(key)</code> is called when the entry will be deleted.</p>
<p>If <code>MapStore</code> throws an exception, then the exception will be propagated back to the original <code>put</code> or <code>remove</code> call in the form of <code>RuntimeException</code>.</p>
<h4 id="page_Setting+Write-Behind+Persistence">Setting Write-Behind Persistence</h4>
<p>You can configure <code>MapStore</code> as write-behind by setting the <code>write-delay-seconds</code> property to a value bigger than <strong>0</strong>. This means the modified entries will be put to the data store asynchronously after a configured delay.</p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>In write-behind mode, Hazelcast coalesces updates on a specific key by default, which means it applies only the last update on that key. However, you can set <code>MapStoreConfig#setWriteCoalescing</code> to <code>FALSE</code> and you can store all updates performed on a key to the data store.</em></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>When you set <code>MapStoreConfig#setWriteCoalescing</code> to <code>FALSE</code>, after you reached per-node maximum write-behind-queue capacity, subsequent put operations will fail with <code>ReachedMaxSizeException</code>. This exception will be thrown to prevent uncontrolled grow of write-behind queues. You can set per-node maximum capacity using the system property <code>hazelcast.map.write.behind.queue.capacity</code>. Please refer to the <a href="../../System_Properties.html">System Properties section</a> for information on this property and how to set the system properties.</em></p>
<p>In write-behind mode, when the <code>map.put(key,value)</code> call returns:</p>
<ul>
<li>In-Memory entry is updated.</li>
<li>In-Memory backup copies are successfully created on other cluster members (if <code>backup-count</code> is greater than 0).</li>
<li>The entry is marked as dirty so that after <code>write-delay-seconds</code>, it can be persisted with <code>MapStore.store(key,value)</code> call.</li>
<li>For fault tolerance, dirty entries are stored in a queue on the primary member and also on a back-up member.</li>
</ul>
<p>The same behavior goes for the <code>map.remove(key)</code>, the only difference is that  <code>MapStore.delete(key)</code> is called when the entry will be deleted.</p>
<p>If <code>MapStore</code> throws an exception, then Hazelcast tries to store the entry again. If the entry still cannot be stored, a log message is printed and the entry is re-queued.</p>
<p>For batch write operations, which are only allowed in write-behind mode, Hazelcast will call <code>MapStore.storeAll(map)</code> and <code>MapStore.deleteAll(collection)</code> to do all writes in a single call.
<br></br></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>If a map entry is marked as dirty, meaning that it is waiting to be persisted to the <code>MapStore</code> in a write-behind scenario, the eviction process forces the entry to be stored. This way you have control over the number of entries waiting to be stored, and thus you can prevent a possible OutOfMemory exception.</em>
<br></br></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em><code>MapStore</code> or <code>MapLoader</code> implementations should not use Hazelcast Map/Queue/MultiMap/List/Set operations. Your implementation should only work with your data store. Otherwise, you may get into deadlock situations.</em></p>
<p>Here is a sample configuration:</p>
<pre><code class="language-xml">&lt;hazelcast&gt;
  ...
  &lt;map name=&quot;default&quot;&gt;
    ...
    &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;
      &lt;class-name&gt;com.hazelcast.examples.DummyStore&lt;/class-name&gt;
      &lt;write-delay-seconds&gt;60&lt;/write-delay-seconds&gt;
      &lt;write-batch-size&gt;1000&lt;/write-batch-size&gt;
      &lt;write-coalescing&gt;true&lt;/write-coalescing&gt;
    &lt;/map-store&gt;
  &lt;/map&gt;
&lt;/hazelcast&gt;
</code></pre>
<p>The following are the descriptions of MapStore configuration elements and attributes:</p>
<ul>
<li>
<code>class-name</code>: Name of the class implementing MapLoader and/or MapStore.</li>
<li>
<code>write-delay-seconds</code>: Number of seconds to delay to call the MapStore.store(key, value). If the value is zero then it is write-through so MapStore.store(key, value) will be called as soon as the entry is updated. Otherwise it is write-behind so updates will be stored after write-delay-seconds value by calling Hazelcast.storeAll(map). Default value is 0.</li>
<li>
<code>write-batch-size</code>: Used to create batch chunks when writing map store. In default mode, all map entries will be tried to be written in one go. To create batch chunks, the minimum meaningful value for write-batch-size is 2. For values smaller than 2, it works as in default mode.</li>
<li>
<code>write-coalescing</code>: In write-behind mode, Hazelcast coalesces updates on a specific key by default; it applies only the last update on it. You can set this element to <code>false</code> to store all updates performed on a key to the data store.</li>
<li>
<code>enabled</code>: True to enable this map-store, false to disable. Default value is true.</li>
<li>
<code>initial-mode</code>: Sets the initial load mode. LAZY is the default load mode, where load is asynchronous. EAGER means load is blocked till all partitions are loaded.</li>
</ul>
<h4 id="page_Storing+Entries+to+Multiple+Maps">Storing Entries to Multiple Maps</h4>
<p>A configuration can be applied to more than one map using wildcards (see <a href="../../Understanding_Configuration/Using_Wildcards.html">Using Wildcards</a>), meaning that the configuration is shared among the maps. But <code>MapStore</code> does not know which entries to store when there is one configuration applied to multiple maps.</p>
<p>To store entries when there is one configuration applied to multiple maps, use Hazelcast's <code>MapStoreFactory</code> interface. Using the <code>MapStoreFactory</code> interface, <code>MapStore</code>s for each map can be created when a wildcard configuration is used. Example code is shown below.</p>
<pre><code class="language-java">Config config = new Config();
MapConfig mapConfig = config.getMapConfig( &quot;*&quot; );
MapStoreConfig mapStoreConfig = mapConfig.getMapStoreConfig();
mapStoreConfig.setFactoryImplementation( new MapStoreFactory&lt;Object, Object&gt;() {
  @Override
  public MapLoader&lt;Object, Object&gt; newMapStore( String mapName, Properties properties ) {
    return null;
  }
});
</code></pre>
<p>To initialize the <code>MapLoader</code> implementation with the given map name, configuration properties, and the Hazelcast instance, implement the <code>MapLoaderLifecycleSupport</code> interface. This interface has the methods <code>init()</code> and <code>destroy()</code> as shown below.</p>
<pre><code class="language-java">public interface MapLoaderLifecycleSupport {

  void init( HazelcastInstance hazelcastInstance, Properties properties, String mapName );

  void destroy();
}
</code></pre>
<p>The method <code>init()</code> initializes the <code>MapLoader</code> implementation. Hazelcast calls this method when the map is first used on the Hazelcast instance. The <code>MapLoader</code> implementation can initialize the required resources for implementing <code>MapLoader</code> such as reading a configuration file or creating a database connection.</p>
<p>Hazelcast calls the method <code>destroy()</code> before shutting down. You can override this method  to cleanup the resources held by this <code>MapLoader</code> implementation, such as closing the database connections.</p>
<h4 id="page_Initializing+Map+on+Startup">Initializing Map on Startup</h4>
<p>To pre-populate the in-memory map when the map is first touched/used, use the <code>MapLoader.loadAllKeys</code> API.</p>
<p>If <code>MapLoader.loadAllKeys</code> returns NULL, then nothing will be loaded. Your <code>MapLoader.loadAllKeys</code> implementation can return all or some of the keys. For example, you may select and return only the <code>hot</code> keys. <code>MapLoader.loadAllKeys</code> is the fastest way of pre-populating the map since Hazelcast will optimize the loading process by having each cluster member load its owned portion of the entries.</p>
<p>The <code>InitialLoadMode</code> configuration parameter in the class <a href="https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/config/MapStoreConfig.java" target="_blank">MapStoreConfig</a> has two values: <code>LAZY</code> and <code>EAGER</code>. If <code>InitialLoadMode</code> is set to <code>LAZY</code>, data is not loaded during the map creation. If it is set to <code>EAGER</code>, all the data is loaded while the map is created, and everything becomes ready to use. Also, if you add indices to your map with the <a href="https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/config/MapIndexConfig.java" target="_blank">MapIndexConfig</a> class or the <a href="#indexing-queries"><code>addIndex</code></a> method, then <code>InitialLoadMode</code> is overridden and <code>MapStoreConfig</code> behaves as if <code>EAGER</code> mode is on.</p>
<p>Here is the <code>MapLoader</code> initialization flow:</p>
<ol>
<li>When <code>getMap()</code> is first called from any member, initialization will start depending on the value of <code>InitialLoadMode</code>. If it is set to <code>EAGER</code>, initialization starts  on all partitions as soon as the map is touched, i.e., all partitions will be loaded when <code>getMap</code> is called.  If it is set to <code>LAZY</code>, data will be loaded partition by partition, i.e., each partition will be loaded with its first touch.</li>
<li>Hazelcast will call <code>MapLoader.loadAllKeys()</code> to get all your keys on one of the members.</li>
<li>That member will distribute keys to all other members in batches.</li>
<li>Each member will load values of all its owned keys by calling <code>MapLoader.loadAll(keys)</code>.</li>
<li>Each member puts its owned entries into the map by calling <code>IMap.putTransient(key,value)</code>.</li>
</ol>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>If the load mode is <code>LAZY</code> and the <code>clear()</code> method is called (which triggers <code>MapStore.deleteAll()</code>), Hazelcast will remove <strong>ONLY</strong> the loaded entries from your map and datastore. Since all the data is not loaded in this case (<code>LAZY</code> mode), please note that there may still be entries in your datastore.</em></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>If you do not want the MapStore start to load as soon as the first cluster member starts, you can use the system property <code>hazelcast.initial.min.cluster.size</code>. For example, if you set its value as <code>3</code>, loading process will be blocked until all three members are completely up.</em></p>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>The return type of <code>loadAllKeys()</code> is changed from <code>Set</code> to <code>Iterable</code> with the release of Hazelcast 3.5. MapLoader implementations from previous releases are also supported and do not need to be adapted.</em></p>
<p><br></br></p>
<h4 id="page_Loading+Keys+Incrementally">Loading Keys Incrementally</h4>
<p>If the number of keys to load is large, it is more efficient to load them incrementally rather than loading them all at once. To support incremental loading, the <code>MapLoader.loadAllKeys()</code> method returns an <code>Iterable</code> which can be lazily populated with the results of a database query.</p>
<p>Hazelcast iterates over the <code>Iterable</code> and, while doing so, sends out the keys to their respective owner members. The <code>Iterator</code> obtained from <code>MapLoader.loadAllKeys()</code> may also implement the <code>Closeable</code> interface, in which case <code>Iterator</code> is closed once the iteration is over. This is intended for releasing resources such as closing a JDBC result set.</p>
<h4 id="page_Forcing+All+Keys+To+Be+Loaded">Forcing All Keys To Be Loaded</h4>
<p>The method <code>loadAll</code> loads some or all keys into a data store in order to optimize the multiple load operations. The method has two signatures; the same method can take two different parameter lists. One signature loads the given keys and the other loads all keys. Please see the example code below.</p>
<pre><code class="language-java">public class LoadAll {

    public static void main(String[] args) {
        final int numberOfEntriesToAdd = 1000;
        final String mapName = LoadAll.class.getCanonicalName();
        final Config config = createNewConfig(mapName);
        final HazelcastInstance node = Hazelcast.newHazelcastInstance(config);
        final IMap&lt;Integer, Integer&gt; map = node.getMap(mapName);
       
        populateMap(map, numberOfEntriesToAdd);
        System.out.printf(&quot;# Map store has %d elements\n&quot;, numberOfEntriesToAdd);
   
        map.evictAll();
        System.out.printf(&quot;# After evictAll map size\t: %d\n&quot;, map.size());
        
        map.loadAll(true);
        System.out.printf(&quot;# After loadAll map size\t: %d\n&quot;, map.size());
    }
}
</code></pre>
<h4 id="page_Post-Processing+Objects+in+Map+Store">Post-Processing Objects in Map Store</h4>
<p>In some scenarios, you may need to modify the object after storing it into the map store.
For example, you can get an ID or version auto-generated by your database and then need to modify your object stored in the distributed map, but not to break the synchronization between the database and the data grid.</p>
<p>To post-process an object in the map store, implement the <code>PostProcessingMapStore</code> interface to put the modified object into the distributed map. This will trigger an extra step of <code>Serialization</code>, so use it only when needed. (This is only valid when using the <code>write-through</code> map store configuration.)</p>
<p>Here is an example of post processing map store:</p>
<pre><code class="language-java">class ProcessingStore implements MapStore&lt;Integer, Employee&gt;, PostProcessingMapStore {
  @Override
  public void store( Integer key, Employee employee ) {
    EmployeeId id = saveEmployee();
    employee.setId( id.getId() );
  }
}
</code></pre>
<p><img src="../../images/NoteSmall.jpg" alt="image" /> <strong><em>NOTE:</em></strong> <em>Please note that if you are using a post processing map store in combination with entry processors, post-processed values will not be carried to backups.</em></p>
<h4 id="page_Accessing+a+Database+Using">Accessing a Database Using <code>Properties</code></h4>
<p>You can prepare your own <code>MapLoader</code> to access a database such as Cassandra and MongDB. For this, you can first declaratively specify the database properties in your <code>hazelcast.xml</code> configuration file and then implement the <code>MapLoaderLifecycleSupport</code> interface to pass those properties.</p>
<p>You can define the database properties, such as its URL and name, using the <code>properties</code> configuration element. The following is a configuration example for MongoDB:</p>
<pre><code class="language-xml">    &lt;map name=&quot;supplements&quot;&gt;
        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;
            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;
            &lt;properties&gt;
                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;
                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;
                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;
            &lt;/properties&gt;
        &lt;/map-store&gt;
    &lt;/map&gt;
</code></pre>
<p>After you specified the database properties in your configuration, you need to implement the <code>MapLoaderLifecycleSupport</code> interface and give those properties in the <code>init()</code> method, as shown below:</p>
<pre><code class="language-java">public class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {

    private MongoClient mongoClient;
    private MongoCollection collection;

    public YourMapStoreImplementation() {
    }

    @Override
    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {
        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);
        String dbName = (String) properties.get(&quot;mongo.db&quot;);
        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);
        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));
        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);
    }
</code></pre>
<p>You can refer to the full example <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/mongodb" class="external">here</a>.</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../../Distributed_Data_Structures/Map/Using_High-Density_Memory_Store_with_Map.html">Previous</a></li>            <li class=Pager--next><a href="../../Distributed_Data_Structures/Map/Creating_Near_Cache_for_Map.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-12653604-10', '');
    ga('send', 'pageview');
</script>

    <!-- jQuery -->
    <script src="../../themes/daux/js/jquery-1.11.3.min.js"></script>

    <!-- hightlight.js -->
    <script src="../../themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="../../themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="../../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../../'
                });
            });
        </script>
    
</body>
</html>
